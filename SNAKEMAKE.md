## What is Snakemake 
Snakemake is a workflow engine that utilises Python based language to define the processes. It offers a powerful working environment that ranges from  from single-core workstations to compute clusters without changing the process.  
It allows the scripts to be more transferrable and neat.  

Snakemake can be installed using conda. It can be used with python version 3.3 and above

## Basics of Snakemake  
A snakemake workflow has four main components:
* Rule  
     * Rules contain the name of the name of the process, input and output files and the command to be executed. For instance;
          ```  
          rule fastqc:
               input:
                  "path/to/inputfile"
               output:
                  "path/to/outputfile"
               shell:
                   "command to be executed {input} > {output}"
          ```  
     * Naming the rule is important as it enables anyone using the script to understand what each step entails. The rule in this step is fastqc.   
  
 * Input  
      * Define the input files for this process;  
            ```  
               input:
                  "examples/primates.fa"
            ```  
     * More than one input file can be provided for analysis  

 * Output 
     * Define the output file ;
         ```  
         output: 
            "fastqc/primates.fa"
          ```  
 * Shell  
     * Define the command to be executed;
       ```  
       "fastqc {input} > {output}"
         ```  
     * Snakemake is able to pick the input file and output file. The files do not have to be defined in the shell.  

To run the snakemake file, one only needs to call ```snakemake``` . Snakemake will automotically run a ```Snakefile``` in the working directory. To visualize the process, the flag ```-np``` is attached.  

### Wildcards  
Wildcards are used to remove staticity of the workflow. The wildcard used is placed in parenthesis ```{}```. 
 ```  
 rule fastqc:
    input:
        "examples/{file}"
    output:
        "fatsqc/{file}"
    shell:
        "fastqc {input} > {output}"
  ```  
When running the workflow, only the output file is defined in the command i.e ; ```snakemake -np fastqc/primates.fa```  
Snakemake is able to reason back from the required output.  

### DAG  
Snakemake also allows for the visualization of the DAG provided the right tools for visualization such as [Graphviz](https://graphviz.org/) have been installed. For instance, the ```dot``` command for Graphviz can be used . Snakemake will specify the DAG in ```dot``` language and pipes the ouput in a SVG file.  

## Reports  
Snakemake can generate a report in html format. The reports can be genarated using the ```report``` function in snakemake.

Specific subsets or all the results can be generated by using a target rule that is by adding a  ``` rule all:  
                                                                                                         input:
                                                                                                             "report.html" ```  

## Config files 
To enable customization of the workflow, config files can be generated. This enables the workflow to be run with new input datasets. The config files are written in JSON or YAML. The can be called by using the function ```configfile```.  


